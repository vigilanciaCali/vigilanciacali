<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="breadcrumb">
		<li style="color: #FFCC00; font-size: 20px;"><i
			class="fa fa-file-video-o" /> Videos Seguidor de Objetos</li>
	</ui:define>

	<ui:define name="content">
		<h:form id="frm">
			<p:growl id="growl" life="3000" autoUpdate="true" />
			<div class="ui-g">
			
			<div class="ui-g-12 ui-lg-12">
					<div id="tabla" class="card no-margin">
						<h1>Historial de Video Análisis</h1>
						<p:dataTable id="tabla" style="text-align: left; font-size: 14px;"
							var="video" value="#{videoAnalysisView.dataTracker}" paginator="true" rows="20"
							selection="#{videoAnalysisView.selectedVideoDTO}"
							selectionMode="single" rowKey="#{video.id}" 
							rowsPerPageTemplate="20,30,40" resizableColumns="true"
							liveResize="true" reflow="true" filterDelay="1200"
							widgetVar="video"
							emptyMessage="No se encontraron registros en el sistema"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							editable="true">
							
							<p:ajax event="rowSelect"
								listener="#{videoAnalysisView.listener_selected_entity}"
								update=":frm"/>

							<p:column filterBy="#{video.id}" sortBy="#{video.id}">
								<f:facet name="header">
									<h:outputText value="id" />
								</f:facet>
								<h:outputText value="#{video.id}" />
							</p:column>

							<p:column filterBy="#{video.description}"
								sortBy="#{video.description}">
								<f:facet name="header">
									<h:outputText value="Description" />
								</f:facet>
								<h:outputText value="#{video.description}" />
							</p:column>

							<p:column filterBy="#{video.info}" sortBy="#{video.info}">
								<f:facet name="header">
									<h:outputText value="Info" />
								</f:facet>
								<h:outputText value="#{video.info}" />
							</p:column>
							
							<p:column filterBy="#{video.format}" sortBy="#{video.format}">
								<f:facet name="header">
									<h:outputText value="Formato" />
								</f:facet>
								<h:outputText value="#{video.format}" />
							</p:column>
							
							<p:column filterBy="#{video.lenght}" sortBy="#{video.lenght}">
								<f:facet name="header">
									<h:outputText value="Tamaño" />
								</f:facet>
								<h:outputText value="#{video.lenght}" />
							</p:column>

							<p:column filterBy="#{video.createdAt}"
								sortBy="#{video.createdAt}">
								<f:facet name="header">
									<h:outputText value="CreatedAt" />
								</f:facet>
								<h:outputText value="#{video.createdAt}" />
							</p:column>

							<p:column filterBy="#{video.createdBy}"
								sortBy="#{video.createdBy}">
								<f:facet name="header">
									<h:outputText value="CreatedBy" />
								</f:facet>
								<h:outputText value="#{video.createdBy}" />
							</p:column>
							
							<p:column filterBy="#{video.src}"
								sortBy="#{video.src}">
								<f:facet name="header">
									<h:outputText value="src" />
								</f:facet>
								<h:outputText value="#{video.src}" />
							</p:column>

							<p:column filterBy="#{video.url}" sortBy="#{video.url}">
								<f:facet name="header">
									<h:outputText value="Url" />
								</f:facet>

								<a href="javascript:abrir('#{video.url}')" > 
									<p:commandButton type="button" value="Abri Video PopUp" styleClass="yellow-btn" style="margin-bottom:10px;"/>
								</a>

							</p:column>

						</p:dataTable>

					</div>

				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>